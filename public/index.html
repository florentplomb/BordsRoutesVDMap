<!DOCTYPE html>
<html ng-app="app">
<head>

    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

    <!-- add the stylesheets here -->

    <script src="components/angular/angular.min.js"></script>

    <script src="components/jquery/dist/jquery.min.js"></script>
    <script src="components/bootstrap/dist/js/bootstrap.min.js"></script>

    <script src="components/leaflet/dist/leaflet.js"></script>
    <script src="components/angular-leaflet-directive/dist/angular-leaflet-directive.js"></script>
    <script src="components/leaflet.draw/dist/leaflet.draw.js"></script>
    <script src="components/angular-leaflet-directive/dist/angular-leaflet-directive_dev_mapped.js"></script>
    <script src="components/leaflet.activelayers/dist/leaflet.active-layers.min.js"></script>


    <!--  <script src="http://maps.google.com/maps/api/js?v=3&sensor=false"></script> -->
    <script src="components/leaflet-plugins/layer/tile/Google.js"></script>
    <script src="components/angucomplete/angucomplete.js"></script>

    <script src="components/underscore/underscore.js"></script>

    <link rel="stylesheet" href="components/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="components/font-awesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="components/angucomplete/angucomplete.css"/>
    <link rel="stylesheet" href="components/leaflet.draw/dist/leaflet.draw.css"/>
    <link rel="stylesheet" href="components/leaflet/dist/leaflet.css"/>
    <link rel="stylesheet" href="components/font-awesome/css/font-awesome.min.css">
    <link href="css/style.css" rel="stylesheet"/>






    <!-- cordova script (this will be a 404 during development)
    <script src="lib/ngCordova/dist/ng-cordova.js"></script> -->


    <!-- your app's js -->

    <script src="js/map.js"></script>




</head>

<body ng-controller="MapCtrl">
    <div id="map-wrapper">

        <div id="map">

          <leaflet  event-broadcast="events"  geojson="geojson" layers="map.layers"  center="map.center"   height='100%'>
          </leaflet>
      </div>
      <div id="work">
        <p>
           /!\ Work in progress /!\ </p>

       </div>

       <div id="searchCommunes">


        <div>
            <angucomplete id="ex1" placeholder="IndiquÃ© le nom d'une commune" pause="100" selectedobject="selectcommunesName" localdata="communesName" searchfields="NAME" titlefield="NAME" minlength="2" inputclass="form-control form-control-small" matchclass="highlight" />
        </div>
        <div  ng-show="selectcommunesName">
            You selected <span class="bold-span">{{selectcommunesName.originalObject.NAME}}</span>
        </div>

        <div ng-hide="selectespecesName">
            <angucomplete id="ex2" placeholder="IndiquÃ© le nom d'une fleur" pause="100" selectedobject="selectespecesName" localdata="especesName" searchfields="espece" titlefield="espece" minlength="2" inputclass="form-control form-control-small" matchclass="highlight" />
        </div>
        <div  ng-click="restoreZones()"  ng-show="selectespecesName">
            <button type="button" class="btn btn-warning ">{{selectespecesName.originalObject.espece}} <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        </div>

    </div>

    <div id="infoCommunes" ng-show="selectcommunesName">
        <h2> Informations </h2>
        <h3> Commune : {{selectcommunesName.originalObject.NAME}} </h3>
        <h4> Nombre de zones : {{infoCommunes.nbrZones}} </h4>
        <h4> Distance totale des zones : {{infoCommunes.distTot}} km </h4>
    </div>
    <div id="info">
      <div><img src='/img/loc.png' alt='Commune'  width='20' height='20' align='top'/>{{infoZone.commune}}</div>
      <div><img src='/img/flower.png' alt='Flower'  width='15' height='20'/> Espèce(s) </div>
      <div  ng-repeat="fleur in infoZone.fleurs">
      <li>{{fleur.espece}}</li>
</div>
  </div>



</body>
</html>
